/*! jodo-widget 2016-12-19 */
var Table={_renderData:function(a,b){var c="",d="",e="",f=0,g="1",h=[];if(b.data instanceof Object&&b.data.sort.length>0){h=b.data.sort,f=b.data.page.recordCount,g=b.data.page.pageSize;var i=b.data.head;console.log(i);for(var j=0;j<i.length;j++)c+="<th>"+i[j]+"</th>";for(var k=b.data.total,j=0;j<h.length;j++)d+="<td>"+k[h[j]]+"</td>";var l=b.data.page.resList;if(l instanceof Array&&l.length>0)for(var j=0;j<l.length;j++){for(var m="",n=0;n<h.length;n++)m+="<td>"+l[j][h[n]]+"</td>";e+="<tr>"+m+"</tr>"}}else c="<td>"+b.data+"</td>",d="<td>-</td>",e="<tr><td>-</td></tr>";a.innerHTML='<table id="'+b.id+'" class="display" cellspacing="0" width="100%"><thead><tr>'+c+"</tr></thead><tbody><tr>"+d+"</tr>"+e+"</tbody></table>",$("#"+b.id).DataTable({order:[[1,"desc"]],pageLength:11,lengthChange:!1,searching:!1,renderer:"bootstrap",language:{info:"总数："+f}}),$("#table_next").bind("click",function(){console.log("page change")})},init:function(){var a=this,b=Object.create(HTMLElement.prototype);b.createdCallback=function(){console.log("createdCallback");var b=this.getAttribute("data-id"),c=this.getAttribute("data-url"),d=this;$.ajax({method:"GET",url:c,dataType:"json",contentType:"application/json",success:function(c){console.log("%csuccess","background: green; color: white;"),a._renderData(d,{id:b,data:c.data}),console.log(c)},error:function(){console.log("%cerror","background: red; color: white;")}})},b.attachedCallback=function(){console.log("attachedCallback")},document.registerElement("tag-table",{prototype:b})}};Table.init();